webpackJsonp([20],{dvB0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("hpcr"),a=s("Y52p"),n=s("rGqP"),r=s("fBcm"),i=s("b+jt"),d=s("gHqA"),c=(new d.a,r.a,i.a,o.a,a.a,n.a,new d.a),l={data:function(){return{params:"",headTitle:"",storeHeader:"../../../static/images/classStore/storeHeader.jpg",storeItem1:"../../../static/images/classStore/storeItem1.jpg",storeItem2:"../../../static/images/classStore/storeItem2.jpg",storeList:[],userInfo:{acceptName:"",acceptTel:"",accessAddress:"",defaultAddress:!1},isAdd:!0,daDetail:"提醒:每次下单时会使用该地址,实际下单地址会根据您的购物切换的地区进行只能判断，请在下单时确认!"}},mounted:function(){this.params=this.$route.query.params||"add",this.initData(this.params)},methods:{initData:function(e){if("add"==e)this.headTitle="新建收货人";else{this.headTitle="编辑收货人",this.isAdd=!1,console.log(c.getItem("editAddr").toJson().defaultAddress);var t=0!=c.getItem("editAddr").toJson().defaultAddress&&c.getItem("editAddr").toJson().defaultAddress;this.userInfo=c.getItem("editAddr").toJson(),this.userInfo.defaultAddress=1==t,console.log(this.userInfo)}},cClassData:function(e,t){var s=this;this.classData.forEach(function(e,o){e.classId==t&&(s.storeList=e.stores)})},goClassification:function(e,t){this.$router.openPage(e,{params:t})},changeDa:function(){console.log("this.userInfo.defaultAddress"),console.log(this.userInfo.defaultAddress);var e=0==this.userInfo.defaultAddress?1:0;console.log(e);var t={inforNo:this.userInfo.inforNo,defaultAddress:e};console.log(t),this.$http.post("/userInfo/updateUserDefaultPostAddress",t).then(function(e){e.rspCode="00000",console.log(e)}).catch(function(e){console.log(e)})},saveInfo:function(){var e=this,t=this;console.log(this.userInfo),console.log(this.userInfo.acceptTel.length);var s=c.getItem("telUserNo").toJson();if(console.log(s),this.userInfo.acceptName)if(this.userInfo.acceptTel&&11==this.userInfo.acceptTel.length)if(this.userInfo.accessAddress){this.userInfo.userNo=s.userNo;var o=0==this.userInfo.defaultAddress?0:1;this.userInfo.defaultAddress=o;var a="",n="";this.isAdd?(a="/userInfo/insertUserPostAddress",n="保存收货人成功！"):(a="/userInfo/updateUserPostAddress",n="编辑收货人成功！"),console.log(this.userInfo),this.$http.post(a,this.userInfo).then(function(s){(s.rspCode="00000")&&(t.$vux.toast.show({type:"text",text:n}),e.$router.go(-1)),console.log(s)}).catch(function(e){console.log(e)})}else this.$vux.toast.show({type:"text",text:"请填写正确的详细地址！"});else this.$vux.toast.show({type:"text",text:"请填写正确的手机号码！"});else this.$vux.toast.show({type:"text",text:"请填写正确的收货人！"})},deteleInfo:function(){var e=this,t=this;this.$http.post("/userInfo/deleteUserPostAddress",this.userInfo).then(function(s){console.log(s),(s.rspCode="00000")&&(t.$vux.toast.show({type:"text",text:"删除收货人成功！"}),e.$router.go(-1))}).catch(function(e){console.log(e)})}},components:{Swiper:r.a,SwiperItem:i.a,headerBack:o.a,XImg:a.a,Divider:n.a}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-init"},[s("div",{staticClass:"classification-header"},[s("header-back",{attrs:{title:e.headTitle}})],1),e._v(" "),s("div",{staticClass:"storeCont absolute"},[s("group",{attrs:{title:"新建/编辑收货人"}},[s("x-input",{attrs:{title:"收货人:",placeholder:"",max:20},model:{value:e.userInfo.acceptName,callback:function(t){e.$set(e.userInfo,"acceptName",t)},expression:"userInfo.acceptName"}}),e._v(" "),s("x-input",{attrs:{title:"手机号码:",type:"number",placeholder:"",min:11,max:11},model:{value:e.userInfo.acceptTel,callback:function(t){e.$set(e.userInfo,"acceptTel",t)},expression:"userInfo.acceptTel"}}),e._v(" "),s("x-textarea",{attrs:{title:"详细地址:",placeholder:"请填写详细的地址",max:100,required:""},model:{value:e.userInfo.accessAddress,callback:function(t){e.$set(e.userInfo,"accessAddress",t)},expression:"userInfo.accessAddress"}}),e._v(" "),e.isAdd?s("x-switch",{attrs:{title:"设置默认地址","inline-desc":e.daDetail},model:{value:e.userInfo.defaultAddress,callback:function(t){e.$set(e.userInfo,"defaultAddress",t)},expression:"userInfo.defaultAddress"}}):s("x-switch",{attrs:{title:"设置默认地址","inline-desc":e.daDetail},nativeOn:{click:function(t){return e.changeDa(t)}},model:{value:e.userInfo.defaultAddress,callback:function(t){e.$set(e.userInfo,"defaultAddress",t)},expression:"userInfo.defaultAddress"}})],1)],1),e._v(" "),s("div",{staticClass:"floatBtn"},[s("x-button",{staticClass:"fbBtn",attrs:{type:"primary"},nativeOn:{click:function(t){e.saveInfo()}}},[e._v("保存")]),e._v(" "),e.isAdd?e._e():s("x-button",{staticClass:"fbBtn",attrs:{type:"warn"},nativeOn:{click:function(t){e.deteleInfo()}}},[e._v("删除")])],1)])},staticRenderFns:[]};var f=s("VU/8")(l,u,!1,function(e){s("lOZm")},"data-v-00def2a0",null);t.default=f.exports},lOZm:function(e,t){}});
//# sourceMappingURL=20.fc83c6f061d50d133979.js.map